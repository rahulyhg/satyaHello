   
<div class=" mapcantiner_inner">
    <h2>PACKAGES</h2>
    <div class=" mapcantiner_inner1">
        
        
    <div class="left_pannel">
    
        <!-- drop down of city-->
    <span style="margin-right:10px;">From</span>
    <select id="package_city"></select><img id="loading-image1" src="/hello42/public/image/27.gif" style="float:right; margin-right:30px; display:none;" width="30" height="30">
   
    <!-- drop down of city-->
    
   
    <div class="clear"></div><br>
    
   <!-- Packages--> 
    <div id="prepackages">
   
    </div>
  <!-- /Packages-->
   
    </div>
    
        
    <div class="center_pannel"><span class="span">During your visit to North India we will show you agra with JAipur</span>
        
       
    <div class="box" id="incsadd">
    <span class="heading">Included Sightseeing</span>
    <p></p>
    
    <div id="removesightseeing">
        
    </div>
   </div>
        
        
    
    <div class="box" id="sightadd">
    <span class="heading">Add Sightseeing</span>
    
    <div id="sightseeing">
        
    </div>
    
   </div>
        
        
    
    <div class="box">
    <span class="heading">Package Detail</span>
    <p>Day 1 Arr Delhi / Pick up from Hotel ,H/d S/s of New Delhi <br>

Day 2 Dep to Agra , Visit Taj Mahal <br>

Day 3 Dep to Jaipur Via Fatehpur Sikri <br>

Day 4 Full Day S/s of Amer Fort <br>

Day 5 Dep to Delhi 
</p>
    
    </div>
    
    </div>
    
    <div class="right_panel">
    <span class="span1">Schedule Package</span>
    <span class="span2">Rs. 15000 | $245</span>
    <form>
    <label>Departure Date</label>
    <div class="clear"></div>
    <input id="packages" type="text" class="input datepick" onchange="pickHour(0);"  placeholder="<?php echo date("m-d-Y")?>">
    <div class="clear"></div>
    <label>Pickup Time</label>
    <div class="clear"></div>
    <select class="time" id="TimeHour" onchange="pickHour();"><option>Hours</option></select>     
    <select id="pickMinutes"  class="time"><option>Min</option></select>
      <label>Pickup Address</label>
      <div class="clear"></div>
      <textarea class="address1"></textarea>
      <div class="clear"></div>
      <label>City</label>
      <div class="clear"></div>
      <select class="input" id="packagefrom" name="packagefrom" >
          
          
      </select>
      
      
      <input type="button" class="continue" value="SELECT & CONTINUE">
      <span class="or"> Or</span>
      <a href="<?php echo $this->basePath(); ?> " style="text-decoration: none;"><input type="button" class="create" value="CREATE A CUSTOM TRIP"></a>
    </form>
    </div>
    
    </div>
    
    </div>
<div class="clear"></div>



<script>
     
   var addarray=[];
   
   
  var base_url = "<?php echo $this->basePath(); ?>";
//sightarray.push(1); 
//alert(sightarray);
 function removeSightSeeing(el,id){
         //alert(el) ;
   var btn="<span data='"+id+"' class='remove exclude' onclick='addSightSeeing($(this).parent(),"+id+")'> <img src='/hello42/public/image/add.jpg'></span>";
  el.find('.remove').remove();
    //el.remove();
  el.append(btn);
  $('#sightseeing').append(el);
  
  
  //sightarray.push(id);
  
  }


function addSightSeeing(el,id)
{
    
    $( "#removesightseeing .remove" ).each(function( index ) {
  $(this).addClass('include');
});
  var btn="<span data='"+id+"' class='remove include' onclick='removeSightSeeing($(this).parent(),"+id+")'> <img src='/hello42/public/image/remove.jpg'></span>";
  
    el.find('.remove').remove();
    //el.remove();
  el.append(btn);
  $('#removesightseeing').append(el); 
   addarray.push(id);
   //console.log(addarray);
}

    
</script>

<script>
    
    function pickHour(id){
        var check=id;
     var d = new Date();
    
     var currentMonth=d.getMonth();
     currentMonth=currentMonth+1;
     
     //var user_d = new Date();
     if (currentMonth < 10) { currentMonth = '0' + currentMonth; }
     var currentDay = d.getDate()
     if(currentDay < 10){
          currentDay = '0' + currentDay;
      }
     var current=d.getFullYear()+"-"+currentMonth+"-"+currentDay;
      
        var h = d.getHours();
        var min = d.getMinutes();
     var user_d = $("#packages").val();
      var hrs = $("#TimeHour").val();                     //get value from hrs field
     if(current == user_d){
         if(hrs >h+1){
    
    document.getElementById("pickMinutes").innerHTML="";
 for(var i=0;i<60;i++){
     var j=i;
     if (j ==5||j==0) { j = '0' + j; }
     document.getElementById("pickMinutes").innerHTML =document.getElementById("pickMinutes").innerHTML +"<option>"+j+"     </option>";
     i=i+4;
 }
 }
        
       
    
 else{  document.getElementById("TimeHour").innerHTML="";
         document.getElementById("pickMinutes").innerHTML="";
    for(var i=h+1;i<24;i++){ 
        if (i < 10) { i = '0' + i; }
     document.getElementById("TimeHour").innerHTML =document.getElementById("TimeHour").innerHTML +"<option>"+i+"     </option>";
   }
   for(var i=min;i<60;i++){
       var j=i;
       var rem = j%5;
       if(rem ==0){
       
      
      }else{
        j=j+5-rem;
        i=j;
        }
         var k=j;
     if (k<10) { k = '0' + k; }
     document.getElementById("pickMinutes").innerHTML =document.getElementById("pickMinutes").innerHTML +"<option>"+k+"    </option>";
     i=i+4;
   }} }else{
 
 document.getElementById("pickMinutes").innerHTML="";
  
    if($("#TimeHour").val() == "hrs" || ($("#TimeHour").val() == "" || id==0 )){
     document.getElementById("TimeHour").innerHTML = "";
              
      
           for(var i=0;i<24;i++){ 
         if (i < 10) { i = '0' + i; }
        document.getElementById("TimeHour").innerHTML =document.getElementById("TimeHour").innerHTML +"<option>"+i+"</option>";
 } 
        
            }
 for(var i=0;i<60;i++){
     var j=i;
     if (j ==5||j==0) { j = '0' + j; }
     document.getElementById("pickMinutes").innerHTML =document.getElementById("pickMinutes").innerHTML +"<option>"+j+"     </option>";
     i=i+4;
      }
    }
  }          
    
    </script>
    
    
    
    <script type="text/javascript">
        $(document).ready(function(){
          
          
          
          var url = base_url+'/tunnel/menu/packageCity';
          
          $.ajax({
        type: 'POST',
        url: url,
        dataType: "json",
        beforeSend: function() {
              $("#loading-image1").show();
           },
				 
        success: function(data){
            $("#loading-image1").hide();
                            if(data.status == 'true'){
                            //alert("sucess")
                            
                            frompackagecity(data.data);
                            deafulatsightseeing(data.data1);
                            predefinepackage(data.data3);
                            
                         }else{
                           alert("error");
                       }
				},
		
		error: function(error){
	console.log(error);	
		}
		});
            
            
        });
        
        
        
        
        
        function frompackagecity(data)
        {
         var i=0;  
        for(i = 0; i < data.length; i++)
         { 
             
          $('#package_city').append('<option value="'+data[i].id+'">'+data[i].name+'</option>');  
          $('#packagefrom').append('<option value="'+data[i].id+'">'+data[i].name+'</option>');   
            
            
        }
        
         //to display sightseeing for first deafult city
          // display_sightseeing(default_city_id);
           //to display sightseeing for first deafult city
           
        
    }
    
    
    function predefinepackage(data)
        {
         var i=0;  
        for(i = 0; i < data.length; i++)
         { 
           if(data[i].is_active==1)  
          $('#prepackages').append('<ul style="font-weight: bold; background-color: rgb(241, 241, 241);cursor: pointer;"><li value="'+data[i].id+'" onclick="clicklist('+data[i].id+');">'+data[i].package_name+'</l1></ul>');   
            
            
        }
        
        }
    
    
    function deafulatsightseeing(data)
        {
         var i=0;  
        for(i = 0; i < data.length; i++)
         { 
             
           
           if(data[i].package_default==0)
           $('#sightseeing').append('<div class="image_box"><span><img src="'+data[i].image+'" class="image"></span><span class="name">'+data[i].name+'</span><div class="clear"></div><span data="'+data[i].id+'" class="remove" id="add1" onclick="addSightSeeing($(this).parent(),'+data[i].id+')"> <img src="/hello42/public/image/add.jpg"></span>');   
           else
           $('#removesightseeing').append('<div class="image_box"><span><img  src="'+data[i].image+'" class="image"></span><span class="name">'+data[i].name+'</span><div class="clear"></div><span data="'+data[i].id+'" class="remove" id="add1" onclick="removeSightSeeing($(this).parent(),'+data[i].id+')"> <img src="/hello42/public/image/remove.jpg"></span>');    
             
            
        }
        
        
        if(addarray.length>0)
        {
            
           
            
          var j=0;
          for(j=0; j<addarray.length; j++)
          {
              console.log(addarray.length); 
              var url = base_url+'/tunnel/menu/addtocart?id='+addarray[j];
              
              console.log(url);
            $.ajax({
        type: 'POST',
        url: url,
        dataType: "json",
        success: function(data){
            if(data.status == 'true'){
                           console.log("sucess");
                         
                            
          // console.log(data.data1.name);                 
         console.log($('#removesightseeing').append('<div class="image_box"><span><img src="'+data.data1.image+'" class="image"></span><span class="name">'+data.data1.name+'</span><div class="clear"></div><span class="remove" id="add1" onclick="removeSightSeeing($(this).parent(),'+data.data1.id+')"> <img src="/hello42/public/image/remove.jpg"></span>'));
                            
                            
                            
                         }else{
                           alert("error");
                       }
				},
		
		error: function(error){
	console.log(error);	
		}
		});  
                
          }
        }
        
       } 
    
    
    
    
    
    
    /*function deafulatsightseeing1(data)
        {
         var i=0;  
        for(i = 0; i < data.length; i++)
         { 
             //alert(addarray);
             //alert($.inArray(data[i].id, addarray));
             var id=data[i].id;
             //alert(id);
             
           var j=0;
           console.log(addarray.length);
           if(addarray.length>0)
           {
           for(j=0; j<addarray.length; j++)
           {
           if(addarray[j]!=id)
           {
               
              if(data[i].package_default==0)
           $('#sightseeing').append('<div class="image_box"><span><img src="'+data[i].image+'" class="image"></span><span class="name">'+data[i].name+'</span><div class="clear"></div><span class="remove" id="add1" onclick="addSightSeeing($(this).parent(),'+data[i].id+')"> <img src="/hello42/public/image/add.jpg"></span>');   
           else
           $('#removesightseeing').append('<div class="image_box"><span><img src="'+data[i].image+'" class="image"></span><span class="name">'+data[i].name+'</span><div class="clear"></div><span class="remove" id="add1" onclick="removeSightSeeing($(this).parent(),'+data[i].id+')"> <img src="/hello42/public/image/remove.jpg"></span>');    
    
           } 
            
           } 
           }
           else
           {
           
           if(data[i].package_default==0)
           $('#sightseeing').append('<div class="image_box"><span><img src="'+data[i].image+'" class="image"></span><span class="name">'+data[i].name+'</span><div class="clear"></div><span class="remove" id="add1" onclick="addSightSeeing($(this).parent(),'+data[i].id+')"> <img src="/hello42/public/image/add.jpg"></span>');   
           else
           $('#removesightseeing').append('<div class="image_box"><span><img src="'+data[i].image+'" class="image"></span><span class="name">'+data[i].name+'</span><div class="clear"></div><span class="remove" id="add1" onclick="removeSightSeeing($(this).parent(),'+data[i].id+')"> <img src="/hello42/public/image/remove.jpg"></span>');    
    
           
           }
          
            
        }
       }  */
    
   
    //------on select drop down display sightseeing---//
    
     $("#package_city").change(function () {
         $( ".include" ).each(function( index ) {
  alert($( this ).attr('data'));
});
       var id= $('#package_city').val();
        //alert(id);
        //$("#sightseeing").remove();
        console.log(addarray);
       
        document.getElementById("sightseeing").innerHTML = "";
        document.getElementById("removesightseeing").innerHTML = "";
        document.getElementById("prepackages").innerHTML = "";
        
        display_sightseeing(id);
        
    });
   
    
    function display_sightseeing(data)
    {
        var url = base_url+'/tunnel/menu/sightSeeing?id='+data;
        
       $.ajax({
        type: 'POST',
        url: url,
        dataType: "json",
        beforeSend: function() {
              $("#loading-image1").show();
           },	
				 
        success: function(data){
            $("#loading-image1").hide();
                            if(data.status == 'true'){
                            //alert("sucess");
                            
                            deafulatsightseeing(data.data1);
                            predefinepackage(data.data3);
                            
                         }else{
                           alert("error");
                       }
				},
		
		error: function(error){
	console.log(error);	
		}
		});
        
    }
    
    
     //------on select drop down display sightseeing---//
    
    
    //------on select preDefine Packages display sightseeing---//
  
    
    function clicklist(id)
    {
        document.getElementById("sightseeing").innerHTML = "";
        document.getElementById("removesightseeing").innerHTML = "";
        //document.getElementById("prepackages").innerHTML = "";
        //alert(id);
        var url = base_url+'/tunnel/menu/cliclListDetails?id='+id;
        
       $.ajax({
        type: 'POST',
        url: url,
        dataType: "json",
        beforeSend: function() {
              $("#loading-image1").show();
           },	
				 
        success: function(data){
            $("#loading-image1").hide();
                            if(data.status == 'true'){
                            //alert("sucess");
                            
                            deafulatsightseeing(data.data1);
                            
                         }else{
                           alert("error");
                       }
				},
		
		error: function(error){
	console.log(error);	
		}
		});
        
    }
    
     //------on select preDefine Packages display sightseeing---//
    
    
    
    
</script>
    
    

