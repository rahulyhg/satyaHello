<!-- Navigation -->
<style>
.errorText {
border:1px solid red;

}
</style>
<div id="wrapper" style="margin-top:150px;">
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation" style=" background: #b64242;box-shadow: 0px 0px 10px #838383; border:none; !important">
        <ul class="nav navbar-top-links navbar-right" style="float:right;margin: 59px 15px 0;">


            <!-- /.dropdown -->
            <li class="dropdown" style="float:right;">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#" style="background:none;">
                    <i class="fa fa-user fa-fw"></i>  <i class="fa fa-caret-down"></i>
                </a>
                <ul class="dropdown-menu dropdown-user">
                    <li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a>
                    </li>
                    <li><a href="#"><i class="fa fa-gear fa-fw"></i> Settings</a>
                    </li>
                    <li class="divider"></li>
                    <li><a href="login.html"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
                    </li>
                </ul>
                <!-- /.dropdown-user -->
            </li>
            <!-- /.dropdown -->
        </ul>
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" style="float: left;margin: 60px 10px 0;border-color: #fff;">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>

        <a class="navbar-brand" style="margin: 0px 15px 60px;z-index: 999;" href="index.html"><img src="<?php echo $this->basePath();?>/public/image/logo.png" alt=""></a>
        <div class="navbar-collapse" style="width:100%;">
            <ul class="nav navbar-nav" style="margin: 59px 0 0;">

                <li>
                    <a href="index.html"><i class="fa fa-briefcase fa-fw"></i> Jobs</a>
                </li>
                <li>
                    <a href="#"><i class="fa fa-map-marker fa-fw"></i> Tracking<span></span></a>
                    <!-- /.nav-second-level -->
                </li>
                <li>
                    <a href="tables.html"><i class="fa fa-envelope-o fa-fw"></i> Message</a>
                </li>
                <li>
                    <a href="#"><i class="fa fa-edit fa-fw"></i> Complaint</a>
                </li>
                <li>
                    <a href="#"><i class="fa fa-user fa-fw"></i> Driver</a>
                </li>
                <li>

                </li><li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-graduation-cap fa-fw"></i>General Master<span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">

                        <li>
                            <a href="#">Sim Card</a>
                        </li>
                        <li>
                            <a href="#">Device</a>
                        </li>
                        <li>
                            <a href="#">Taxi</a>
                        </li>
                        <li>
                            <a href="#">Taxi Model</a>
                        </li>
                        <li>
                            <a href="#">Change Password</a>
                        </li>

                    </ul>
                </li>
                <ul class="nav nav-second-level collapse">
                    <li>
                        <a href="#">Sim Card</a>
                    </li>
                    <li>
                        <a href="#">Device</a>
                    </li>
                    <li>
                        <a href="#">Taxi</a>
                    </li>
                    <li>
                        <a href="#">Taxi Model</a>
                    </li>
                    <li>
                        <a href="#">Change Password</a>
                    </li>
                </ul>
                <!-- /.nav-second-level -->


                <li>
                    <a href="#"><i class="fa fa-files-o fa-fw"></i>Repots<span></span></a>
                    <!-- /.nav-second-level -->
                </li>
                <li>
                    <a href="#"><i class="fa fa-files-o fa-fw"></i>Repots New version<span></span></a>
                    <!-- /.nav-second-level -->
                </li>



            </ul>
        </div><!--/.nav-collapse -->
    </div>
    <div id="page-wrapper">
        <div class="row">
                    <div class="col-lg-12">

                        <div class="portlet portlet-default">
                            <div class="portlet-heading">
                                <div class="portlet-title">
                                    <h4>Basic Tabs Example</h4>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div class="portlet-body">
                                <ul id="myTab" class="nav nav-tabs">
                                    <li class="active"><a href="#cabGeneral" data-toggle="tab"><i class="fa fa-list" style="color:#; margin:5px"></i>General</a>
                                    </li>
                                    <li><a href="#profile" data-toggle="tab"><i class="fa fa-user" style="color:#; margin:5px"></i>Client</a>
                                    </li>
                                    <li>
                                        <a href="#" id="myTabDrop1" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user" style="color:#; margin:5px"></i>Driver</a>
                                     </li>
									 <li>
                                        <a href="#" id="myTabDrop1" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-road" style="color:#; margin:5px"></i>Vehicle</a>
                                     </li>
									  <li>
                                        <a href="#" id="myTabDrop1" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-globe" style="color:#; margin:5px"></i>Location</a>
                                     </li>
									  <li>
                                        <a href="#" id="myTabDrop1" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-gear (alias)" style="color:#; margin:5px"></i>State</a>
                                     </li>
									 <li>
                                        <a href="#" id="myTabDrop1" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-eur" style="color:#; margin:5px"></i>Payment</a>
                                     </li>
                                </ul>
                                <div id="myTabContent" class="tab-content">
                                    <div class="tab-pane fade in active" id="cabGeneral">
                                        <div class="container col-sm-col-sm-offset-1" style="margin-top:30px !important;">
										<div class="row">
                                                <div class="form-group clearfix margintopbottom20">
												   <label id="cab-vehicleOwner" class="col-sm-2 control-label labelalign">Vehicle Owner</label>
                                                  <div class="col-sm-4">
                                                     <input id=" " type="text" class=" form-control" placeholder="Vehicle Owner">                                    
                                                  </div>
                                                 
 												    <label id="cab-vehicleName" class="col-sm-2 control-label labelalign">Vehicle Name</label>
                                                   <div class="col-sm-4">
                                                         <input id=" " type="text" class=" form-control" placeholder="Vehicle Name">     
                                                    </div>
                                                 </div>
                                             </div>
											 
											 <div class="row">
                                                <div class="form-group clearfix margintopbottom20">
												   <label id="cab-CarType" class="col-sm-2 control-label labelalign">Cab Type</label>
                                                  <div class="col-sm-4">
												  
                                                     <input id=" " type="text" class=" form-control" placeholder="Cab Type">                                    
                                                  </div>
                                                 
 												    <label id="cab-country" class="col-sm-2 control-label labelalign">Country</label>
                                                   <div class="col-sm-4">
                                                        <div class="input-group">
 													<input type="text" id="cab-countryText" class="form-control" placeholder="Country">
													<span class="input-group-addon"><i class="fa fa-search"></i></span>   
                                                </div> 
                                                    </div>
                                                 </div>
                                             </div>
											  <div class="row">
                                                <div class="form-group clearfix margintopbottom20">
												   <label id="cab-state" class="col-sm-2 control-label labelalign">State</label>
                                                  <div class="col-sm-4">
												  
                                                     <input id="cab-stateText" type="text" class=" form-control" placeholder="State">                                    
                                                  </div>
                                                 
 												    <label id="cab-city" class="col-sm-2 control-label labelalign">City</label>
                                                   <div class="col-sm-4">
                                                        <div class="input-group">
 													<input type="text" id = "cab-cityText" class="form-control" placeholder="City">
													<span class="input-group-addon"><i class="fa fa-search"></i></span>   
                                                </div> 
                                                    </div>
                                                 </div>
                                             </div>
											   <div class="row">
                                                <div class="form-group clearfix margintopbottom20">
												 
                                                  <div class="col-sm-4 pull-right">
                                                     <a href="#" class="btn btn-red defaultbtnsearch searchVehicle"><i class="fa fa-search" style="color:#fff; margin:5px"></i>Search</a>
													 <a href="#" class="btn btn-red defaultbtnsearch"><i class="fa fa-times" style="color:#fff; margin:5px"></i>Clear</a>                                  
                                                  </div>
												  
												   
                                                 
 												    
                                                  
                                                 </div>
                                             </div>
											 
											 
											 
											 
										</div>
                                    </div>
                                    <div class="tab-pane fade" id="profile">
                                        <p>Food truck fixie locavore, accusamus mcsweeney's marfa nulla single-origin coffee squid. Exercitation +1 labore velit, blog sartorial PBR leggings next level wes anderson artisan four loko farm-to-table craft beer twee. Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts ullamco ad vinyl cillum PBR. Homo nostrud organic, assumenda labore aesthetic magna delectus mollit. Keytar helvetica VHS salvia yr, vero magna velit sapiente labore stumptown. Vegan fanny pack odio cillum wes anderson 8-bit, sustainable jean shorts beard ut DIY ethical culpa terry richardson biodiesel. Art party scenester stumptown, tumblr butcher vero sint qui sapiente accusamus tattooed echo park.</p>
                                        <p>Food truck fixie locavore, accusamus mcsweeney's marfa nulla single-origin coffee squid. Exercitation +1 labore velit, blog sartorial PBR leggings next level wes anderson artisan four loko farm-to-table craft beer twee. Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts ullamco ad vinyl cillum PBR. Homo nostrud organic, assumenda labore aesthetic magna delectus mollit. Keytar helvetica VHS salvia yr, vero magna velit sapiente labore stumptown. Vegan fanny pack odio cillum wes anderson 8-bit, sustainable jean shorts beard ut DIY ethical culpa terry richardson biodiesel. Art party scenester stumptown, tumblr butcher vero sint qui sapiente accusamus tattooed echo park.</p>
                                    </div>
                                    <div class="tab-pane fade" id="dropdown1">
                                        <p>Etsy mixtape wayfarers, ethical wes anderson tofu before they sold out mcsweeney's organic lomo retro fanny pack lo-fi farm-to-table readymade. Messenger bag gentrify pitchfork tattooed craft beer, iphone skateboard locavore carles etsy salvia banksy hoodie helvetica. DIY synth PBR banksy irony. Leggings gentrify squid 8-bit cred pitchfork. Williamsburg banh mi whatever gluten-free, carles pitchfork biodiesel fixie etsy retro mlkshk vice blog. Scenester cred you probably haven't heard of them, vinyl craft beer blog stumptown. Pitchfork sustainable tofu synth chambray yr.</p>
                                        <p>Etsy mixtape wayfarers, ethical wes anderson tofu before they sold out mcsweeney's organic lomo retro fanny pack lo-fi farm-to-table readymade. Messenger bag gentrify pitchfork tattooed craft beer, iphone skateboard locavore carles etsy salvia banksy hoodie helvetica. DIY synth PBR banksy irony. Leggings gentrify squid 8-bit cred pitchfork. Williamsburg banh mi whatever gluten-free, carles pitchfork biodiesel fixie etsy retro mlkshk vice blog. Scenester cred you probably haven't heard of them, vinyl craft beer blog stumptown. Pitchfork sustainable tofu synth chambray yr.</p>
                                    </div>
                                    <div class="tab-pane fade" id="dropdown2">
                                        <p>Trust fund seitan letterpress, keytar raw denim keffiyeh etsy art party before they sold out master cleanse gluten-free squid scenester freegan cosby sweater. Fanny pack portland seitan DIY, art party locavore wolf cliche high life echo park Austin. Cred vinyl keffiyeh DIY salvia PBR, banh mi before they sold out farm-to-table VHS viral locavore cosby sweater. Lomo wolf viral, mustache readymade thundercats keffiyeh craft beer marfa ethical. Wolf salvia freegan, sartorial keffiyeh echo park vegan.</p>
                                        <p>Trust fund seitan letterpress, keytar raw denim keffiyeh etsy art party before they sold out master cleanse gluten-free squid scenester freegan cosby sweater. Fanny pack portland seitan DIY, art party locavore wolf cliche high life echo park Austin. Cred vinyl keffiyeh DIY salvia PBR, banh mi before they sold out farm-to-table VHS viral locavore cosby sweater. Lomo wolf viral, mustache readymade thundercats keffiyeh craft beer marfa ethical. Wolf salvia freegan, sartorial keffiyeh echo park vegan.</p>
                                    </div>
                                </div>
                            </div>
                            <!-- /.portlet-body -->
                        </div>
                        <!-- /.portlet -->

                    </div>
                    <!-- /.col-lg-12 -->
                </div>				
					
					
        <div class=" ">
            
            <table id="Cab-Cabtype" class="table table-striped table-responsive">
                <thead>
                    <tr>
                        <th>S.No.</th>
                        <th>Cab Type</th>
                        <th>Country</th>
                        <th>State</th>
                        <th>City</th>
						<th></th>
						
                      
                    </tr>
                </thead>

                <tfoot>
                    <tr>
                        <th>S.No.</th> 
                        <th>Cab Type</th>
                        <th>Country</th>
                        <th>State</th>
                        <th>City</th>
                        <th></th>
                    </tr>
                </tfoot>

                <tbody>

                </tbody>
            </table>
           <div class="row">
				<div class="col-lg-12 addCabType">
					<button class="btn btn-success"><i class="fa fa-plus"></i>&nbsp; Add Unit</button>
				</div>
			</div>
        </div>
		
	
    </div>

</div>

<div class="col-lg-12" id="vehicleInfoTab" style="display: none;">

                        <div class="portlet portlet-default">
                            <div class="portlet-heading">
                                <div class="portlet-title">
                                    <h4>Vehicle Tabs</h4>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div class="portlet-body">
                                <ul id="myTab" class="nav nav-tabs">
                                    <li class="active"><a href="#client" data-toggle="tab">Entity</a>
                                    </li>
                                    
                                    <li class="">
                                        <a href="#bookingfeatures" id="myTabDrop1" class="dropdown-toggle" data-toggle="tab">Booking features</a>
                                     </li>
									 <li>
                                        <a href="#" id="#locations" class="dropdown-toggle" data-toggle="dropdown">Locations</a>
                                     </li>
									  <li>
                                        <a href="#" id="#dispatching" class="dropdown-toggle" data-toggle="dropdown">Dispatching</a>
                                     </li>
									  
                                </ul>
                                <div id="myTabContent" class="tab-content">
                                    
                  <div class="tab-pane fade active in" id="client">
                                         
					<div class="container margintop">


						<div id="userRoleDriver" style="margin:20px audio 0;">
 
         
		
     <form id="frm_details" name="frm_details" method="multipart/form-data">
         <div class="col-sm-8 col-md-8 col-lg-8 clearfix">
             <input type="hidden" id="image_path0" name="image_path" value="">  	
         <!--  <div class="form-group clearfix spance">
            <label class="control-label col-mg-5 col-lg-5">Id</label>
            <input type="text" id="vehicle_id" name="vehicle_id" class="col-mg-7 col-lg-7 inputfild name">
           </div>
           <div class="form-group clearfix spance">
            <label class="control-label col-mg-5 col-lg-5">Unique Id</label>
            <input type="text" id="vehicle_uniqueId" class="col-mg-7 col-lg-7 inputfild name">
			 
           </div> -->
		   
           <div class="form-group clearfix spance">
            <label class="control-label col-mg-5 col-lg-5">Vehicle Type</label>
            <input type="text" id="vehicle_type" name="vehicle_type" class="col-mg-7 col-lg-7 inputfild name" autocomplete="off">
           </div>
          
           
           <div class="form-group clearfix spance">
            <label class="control-label col-lg-5">Model<span class="mandat_star">*</span></label>
            <input type="text" id="vehicle_model" class="col-mg-7 col-lg-7 inputfild name">
           </div>
           <div class="form-group clearfix spance">
            <label class="control-label col-lg-5">External reference<span class="mandat_star">*</span></label>
            <input type="text" id="vehicle_externalref" class="col-mg-7 col-lg-7 inputfild name">
           </div>
            
           <div class="form-group clearfix spance">
            <label class="control-label col-lg-5">Year</label>
       		<input type="text" id="vehicle_year" class="col-mg-7 col-lg-7 inputfild name">
           </div>
		      
           <div class="form-group clearfix spance">
            <label class="control-label col-lg-5"><span class="mandat_star">License Plate</span></label>
            <input type="text" id="vehicle_licenseplate" class="col-mg-7 col-lg-7 inputfild name">
 
           </div>
           <div class="form-group clearfix spance">
               <label class="control-label col-lg-5">Color</label>
            <input type="text" class="col-lg-7 inputfild name" id="vehicle_color" name="vehicle_color">
           </div>
		   		   		   
		   
		    <div class="form-group clearfix spance">
            <label class="control-label col-lg-5">Is active</label>
            <input type="checkbox" value="" class="form-control inputsize">
           </div>
		    <div class="form-group clearfix spance">
              
			    <button type="submit" class="btn defaultbtnsearch pull-right">Back</button> 
				
				<button type="submit" class="btn defaultbtnsearch pull-right updateVehicleButton" style="margin-right:10px;" onclick="">Update</button>

				<button type="submit" class="btn defaultbtnsearch pull-right addVehicleButton" style="margin-right:10px;" onclick="">Add</button>				
           </div>
		   
          </div>
		    
		    
        
  
           
            <!--bottom part checkbox of form End-->
           
         </form>
    </div>																													
                
                
         <div id="myModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Confirmation</h4>
            </div>
            <div class="modal-body">
                <p>An Confirmation Email has been sent on your account</p>
                <p class="text-warning"><small></small></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                
            </div>
        </div>
    </div>
 
</div>
       
              
<div class="clearfix"></div>
<!-- End Signup for users-->





<!-- End Signup for users-->

      
          
        </div>
										 
                                    </div>

						<!--Driver Group START-->
                                    <div class="tab-pane fade" id="drivergroups">
                                       
									  <div class="col-sm-6 clearfix" style="margin: 30px auto 20px;padding: 0;">
									   	<label class="col-sm-2">Driver group</label>
										<div class="col-sm-7">
										<input type="text" class="form-control">
										</div>
										<a href="#" class="btn btn-success col-sm-3">Add</a>
									   </div>
									   
									 <table class="table">
 										 <thead>
										 <tr>
										 	<th>Group name</th>
											<th>Action</th>
 										</tr>
										</thead>
										<tbody>
											<tr>
												<td><a href="#">Driver Copenhagen Default</a></td>
												<td><a href="#" class="btn defaultbtnsearch  col-sm-4">Remove</a></td>
											</tr>
										</tbody>
									 </table>
										 
                                    </div>
 						<!--Driver Group END-->	
						
						<!--Booking features Start-->
							 <div class="tab-pane fade clearfix" id="bookingfeatures">
                                       
									  <div class="col-sm-6  clearfix" style="margin: 30px auto 20px;padding: 0;">
									   	<label class="col-sm-2">Add Booking</label>
										<div class="col-sm-9">
										 <select name="driver_length" aria-controls="driver" class="form-control input-sm">
										 <option value="10">select</option>
										 <option value="10">Shopping</option>
										  <option value="10">English Language</option>
										   <option value="10">Transportation atient</option>
										    <option value="10">Assist General</option>
											 <option value="10">Assist Shopping Pharmacy</option>
											  <option value="10">Assist Shopping With Expenses</option>
										 </select>
										</div>
										 
									   </div>
									   <div class="col-sm-6  " style="margin: 30px auto 20px;padding: 0;">
									   	<label class="col-sm-2">Add Booking</label>
										<div class="col-sm-9">
										 <select name="driver_length" aria-controls="driver" class="form-control input-sm">
										 <option value="10">select</option>
										 <option value="10">Shopping</option>
										  <option value="10">English Language</option>
										   <option value="10">Transportation atient</option>
										    <option value="10">Assist General</option>
											 <option value="10">Assist Shopping Pharmacy</option>
											  <option value="10">Assist Shopping With Expenses</option>
										 </select>
										</div>
										 
									   </div>
									   </div>
						<!--Booking features End-->
						
						
									
									
                                </div>
                            </div>
                            <!-- /.portlet-body -->
                        </div>
                        <!-- /.portlet -->

                    </div>


					
<div class="col-sm-12"  style="margin:20px auto;display:none;" id="cabTypeForm" >
                                    <div class="" >
										
										<div class="portlet portlet-default">
                            <div class="portlet-heading">
                                <div class="portlet-title">
                                    <h4>Cab Type</h4>
                                </div>
                                <div class="clearfix"></div>
                            </div>
								<form role="form">
 
                                                <div class="form-group clearfix margintopbottom20">
												   <label class="col-sm-2 control-label labelalign">Cab Type</label>
                                                  <div class="col-sm-4">
												  
                                                     <input id=" " type="text" class=" form-control" placeholder="Cab Type">                                    
                                                  </div>
												</div>  
                                                <br>
												<div class="form-group clearfix margintopbottom20">
												   <label  class="col-sm-2 control-label labelalign">Country</label>
												   <div class="col-sm-4">
													<select name="Cab-Cabtype_length" id="addCab_countryDropdown" aria-controls="Cab-Cabtype" style="padding:6px 12px;height:40px;font-size:15px;" class="form-control input-sm">
													
													</select>
													</div>
												</div>
												<br>
												<div class="form-group clearfix margintopbottom20">
												   <label class="col-sm-2 control-label labelalign">State</label>
												   <div class="col-sm-4">
													<select name="Cab-Cabtype_length" id="addCab_stateDropdown" aria-controls="Cab-Cabtype" style="padding:6px 12px;height:40px;font-size:15px;" class="form-control input-sm">
													
													</select>
													</div>
												</div>
												<br>
												<div class="form-group clearfix margintopbottom20">
												   <label class="col-sm-2 control-label labelalign">City</label>
												   <div class="col-sm-4">
													<select name="Cab-Cabtype_length" aria-controls="Cab-Cabtype" id="addCab_cityDropdown" style="padding:6px 12px;height:40px;font-size:15px;" class="form-control input-sm">
													
													</select>
													</div>
												</div>
                                             		 
													 <div class="form-group clearfix spance">
              
											<button type="submit" class="btn defaultbtnsearch pull-right" onclick="">Back</button> 
											<button type="submit" class="btn defaultbtnsearch pull-right addCabTypeButton" style="margin-right:10px;display:none;" onclick="">Add</button> 
											<button type="submit" class="btn defaultbtnsearch pull-right editCabTypeButton" style="margin-right:10px;display:none;" onclick="">Update</button> 
											</div>
                                            </form>
                                            
                                           
                                        </div>
									</div>
                                    <div class="col-sm-4 col-md-4"></div>
</div>					


<script>

$( document ).ready(function() {
	getAllCountry();
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else { 
        alert("Geolocation is not supported by this browser.") ;
    }
   
   
   
});

$(".addCabType").click(function(){
	
	$("#page-wrapper").hide();
	$("#cabTypeForm").show();
	$(".editCabTypeButton").hide();
	$(".addCabTypeButton").show();
	

});


$(document).on('click','.editCabType',function(){
	$("#page-wrapper").hide();
	$("#cabTypeForm").show();
	$(".editCabTypeButton").show();
	$(".addCabTypeButton").hide();
	

});



function showPosition(position) {
  var lat = position.coords.latitude;	
  var log = position.coords.longitude;
 
  
  var url = '<?php echo $this->basePath();?>'+'/tunnel/admin/reverse_geocode';
	$.ajax({
		type: 'POST',
		url: url,
		dataType: "json",
		data : {    
				key:'',
				currentLat:lat,
				currentlong : log,
			},		 
		success: function(data){
				$("#cab-countryText").val(data.country);
				$("#cab-stateText").val(data.location);
				$("#cab-cityText").val(data.city);
				getAllCabTypes();
				getState();
				getAllCity();
			},
		error: function(error){
			console.log(error);
		}
	});
}



function getState()
{
	var defaultSt = $("#cab-stateText").val();
	
	var country = $("#cab-countryText").val();
	
	var url = '<?php echo $this->basePath();?>'+'/tunnel/admin/getAllState';
	$.ajax({
		type: 'POST',
		url: url,
		dataType: "json",
		data : {    
				key:'',
				country:country
				
			},		 
		success: function(html){
			
			var len = html.data.length;
			var detailState = "";
			for(var i=0;i<len;i++){
				var stateTx = html.data[i].state;
				if(html.data[i].state == defaultSt)	{
					detailState += "<option value='"+html.data[i].id+"' selected>"+ html.data[i].state+"</option>";
				}else{
					detailState += "<option value='"+html.data[i].id+"'>"+ html.data[i].state+"</option>";
				}
			
			}
			
				$("#addCab_stateDropdown").html(detailState);
				
				
				
			},
		error: function(error){
			console.log(error);
		}
	});

}

function getAllCountry()
{
	var cabcountryText = $("#cab-countryText").val();
	var url = '<?php echo $this->basePath();?>'+'/tunnel/admin/getAllCountry';
	$.ajax({
		type: 'POST',
		url: url,
		dataType: "json",
		data : {    
				key:'',
				
				
			},		 
		success: function(html){
			
			var len = html.data.length;
			var detailCountry = "";
			for(var i=0;i<len;i++){
				if(cabcountryText == html.data[i].CountryName){
					detailCountry += "<option value='"+html.data[i].ID+"' selected>"+ html.data[i].CountryName+"</option>";
				}else{
					detailCountry += "<option value='"+html.data[i].ID+"'>"+ html.data[i].CountryName+"</option>";
				}
			}
			
				$("#addCab_countryDropdown").html(detailCountry);
			
			},
		error: function(error){
			console.log(error);
		}
	});

}

function getAllCity(){
	var cabcityText = $("#cab-cityText").val();

	var stateId = $('#cab-stateText').val();
	
	var url = '<?php echo $this->basePath();?>'+'/tunnel/admin/getAllCity';
	$.ajax({
		type: 'POST',
		url: url,
		dataType: "json",
		data : {    
				key:'',
				state:stateId
				
			},		 
		success: function(html){
			alert('succss11');
			console.log(html);
			
			var len = html.data.length;
			var detailCity = "";
			for(var i=0;i<len;i++){
				if(cabcityText == html.data[i].name){
					detailCity += "<option value='"+html.data[i].id+"' selecetd >"+ html.data[i].name+"</option>";
				}else{
					detailCity += "<option value='"+html.data[i].id+"'>"+ html.data[i].name+"</option>";
				}
			}
			
			$("#addCab_cityDropdown").html(detailCity);
			
			},
		error: function(error){
			console.log(error);
		}
	});



}


$("#addCab_stateDropdown").change(function() {
	var stateId = $('#addCab_stateDropdown :selected').text();
	
	var url = '<?php echo $this->basePath();?>'+'/tunnel/admin/getAllCity';
	$.ajax({
		type: 'POST',
		url: url,
		dataType: "json",
		data : {    
				key:'',
				state:stateId
				
			},		 
		success: function(html){
			
			var len = html.data.length;
			var detailCity = "";
			for(var i=0;i<len;i++){
				detailCity += "<option value='"+html.data[i].id+"'>"+ html.data[i].name+"</option>";
			
			}
				$("#addCab_cityDropdown").html(detailCity);
			
			},
		error: function(error){
			console.log(error);
		}
	});
 
 
 


});

function getAllCabTypes(){
	var city = $("#cab-cityText").val();
	var state = $("#cab-stateText").val();
	
	var cabTypeTable = $('#Cab-Cabtype').dataTable( {
						"ajax": '<?php echo $this->basePath();?>'+'/tunnel/admin/vehicle_getAllCabType?city='+city+'&state='+state,
						"deferRender": true
						
						
					} );
	
}

$(document).on('click','#addVhicleType',function(){

	$("#page-wrapper").hide();
	$("#vehicleInfoTab").show();
	$(".updateVehicleButton").hide();
	$(".addVehicleButton").show();
	
});


$(document).on('click','.editVehicle',function(){ 
	$("#page-wrapper").hide();
	$("#vehicleInfoTab").show();
	$(".updateVehicleButton").show();
	$(".addVehicleButton").hide();
	
});


 $('#Cab-Cabtype').on('click','.clickCabType',function(){
		var city = $("#cab-cityText").val();
		var cabId = $(this).attr('data');
		
		var cabhtml = $(this).html();
		
		$("#cab-vehicleCabTypText").val(cabhtml);
		//clearInterval(myVar2); 
        //clearInterval(myVar);
      
      if($(this).hasClass('open'))
      {
		 // myVar2=setInterval(function(){myTimer2()}, 5000);	  
          $(".remove div:first").slideUp(400,function(){
               $('.remove').remove();
              
          });
     
      $(this).removeClass('open');
	  
  }else{
      $('.remove').remove();
       
      $(this).addClass('open');
	   
      $(this).parent().parent().after('<tr class="remove"><td colspan="7"><div><div> <div class="portlet portlet-default"> <div class="portlet-heading"> <div class="portlet-title"><h4 class="h4text">Vehicle Information</h4></div> <div class="clearfix"></div> </div> <div class="portlet-body"> <ul id="myTab" class="nav nav-tabs tabsdesign"> <li class="active"><a href="#cab_vehicle" data-toggle="tab"><i class="fa fa-list" style="color:#; margin:5px"></i>Status</a> </li> </ul> <div id="myTabContent" class="tab-content contantboxoftabs"> <div class="tab-pane fade in active" id="cab_vehicle"> <table id="exampleVehicle" class="table table-striped table-responsive margin10"><thead> <tr> <th>S.No.</th><th>vehicle Number</th> <th>Cab Type</th>  <th>Vehicle Name</th>  <th>Vehicle Model</th> <th> Manufacturer</th><th></th> </tr> </thead> <tbody> </tbody> </table> </div></div><div class="row clearfix margin10"><div class="col-lg-12" id="addVhicleType"><button class="btn btn-success"><i class="fa fa-plus"></i> Add Vehicle</button></div></div></td></tr>');

    data=$(this).attr("data");
   
    $.ajax({
		url: '<?php echo $this->basePath();?>'+'/tunnel/admin/vehicleInfo?cabId='+data+'&city='+city,
		cache: false,
		dataType:"json"
	})
  .done(function( html ) {
	var k = 1;
    for(var i=0;i<html.data.length;i++)
	{
		$('#exampleVehicle tbody').append('<tr><td><label class="vehicleInfo" style="cursor:pointer;color:#08c;" data="'+html.data[i].id+'">'+ k++ +'</label></td><td>'+html.data[i].vehicleNumber+'</td><td>'+html.data[i].CabType+'</td><td>'+html.data[i].name+'</td><td>'+html.data[i].VehicleModel+'</td><td>'+html.data[i].Manufacturer+'</td><td><div class="row clearfix margin10"><div class="col-lg-12"><button data="'+html.data[i].id+'" class="btn btn-primary editVehicle">Edit Vehicle</button></div></div></td></tr>');  
	}
  }).fail(function (error){
			
 });	
		
}		
 
 });
 
 
 $(".searchVehicle").click(function(){
	alert('hello');
	getAllCabTypes();
 
 });
 

 /*
$(document).on('click','.editVehicle',function(){ 

	var vehicleId = $(this).attr('data');
	
	 $.ajax({
		url: '<?php echo $this->basePath();?>'+'/tunnel/admin/vehicleInfoById?vehicleId='+vehicleId,
		cache: false,
		dataType:"json"
	})
  .done(function( html ) {
	
	$("#vehicle_id").val(html.data[0].id);
	$("#vehicle_uniqueId").val(html.data[0].uniqueId);
	$("#vehicle_type").val(vehicle_type);
	
	$("#vehicle_model").val();
	
	
	$('#VehicleDetailTable').append('<tr><th>Id</th><td>'++'</td></tr><tr><th>unique Id</th><td>'+html.data[0].uniqueId+'</td></tr><tr><th>Model</th><td>'+html.data[0].VehicleModel+'</td></tr>  <tr><th>External Reference</th><td>'+html.data[0].external_reference+'</td></tr><tr><th>Year</th><td>'+html.data[0].year+'</td></tr><tr><th>License Plate</th><td>'+html.data[0].license_plate+'</td></tr><tr><th>color</th><td>'+html.data[0].colour+'</td></tr>   <tr><th>Engine Number</th><td>'+html.data[0].Engine_No+'</td></tr><tr><th>Fuel Type</th><td>'+html.data[0].fuelType+'</td></tr><tr><th>Capacity</th><td>'+html.data[0].capacity+'</td></tr><tr><th>Status</th><td>'+html.data[0].status+'</td></tr>');  
	
	
	
  }).fail(function (error){
	alert('error');
	console.log(error);
		
 });	
	
	

}); */
 
$('#Cab-Cabtype').on('click','.vehicleInfo',function(){ 
 var vehicleId = $(this).attr('data');
 
 if($(this).hasClass('openVehicle'))
      {
		 // myVar2=setInterval(function(){myTimer2()}, 5000);	  
          $(".removevehicle div:first").slideUp(400,function(){
               $('.removevehicle').remove();
              
          });
     
      $(this).removeClass('openVehicle');
	  
  }else{
      $('.removevehicle').remove();
       
      $(this).addClass('openVehicle');
	   
      $(this).parent().parent().after('<tr class="removevehicle"><td colspan="7"><div><div> <div class="portlet portlet-default"> <div class="portlet-heading"> <div class="portlet-title"><h4 class="">Vehicle Details</h4></div> <div class="clearfix"></div> </div> <div class="portlet-body"> <ul id="myTab" class="nav nav-tabs tabsdesign"> <li class="active"><a href="#cab_vehicleInfo" data-toggle="tab"><i class="fa fa-list" style="color:#; margin:5px"></i>Info</a> </li> </ul> <div id="myTabContent" class="tab-content contantboxoftabs"> <div class="tab-pane fade in active" id="cab_vehicleInfo"> <table id="VehicleDetailTable" class="table table-striped table-responsive margin10"></table> </div></div></td></tr>');

    data=$(this).attr("data");
   
    $.ajax({
		url: '<?php echo $this->basePath();?>'+'/tunnel/admin/vehicleInfoById?vehicleId='+vehicleId,
		cache: false,
		dataType:"json"
	})
  .done(function( html ) {
	var k = 1;
	var statusVehicle;
    for(var i=0;i<html.data.length;i++)
	{
		statusVehicle = (html.data[0].status == 0) ?'Inactive':'Active';
		$('#VehicleDetailTable').append('<tr><th>Id</th><td>'+html.data[0].id+'</td></tr><tr><th>unique Id</th><td>'+html.data[0].uniqueId+'</td></tr><tr><th>Model</th><td>'+html.data[0].VehicleModel+'</td></tr>  <tr><th>External Reference</th><td>'+html.data[0].external_reference+'</td></tr><tr><th>Year</th><td>'+html.data[0].year+'</td></tr><tr><th>License Plate</th><td>'+html.data[0].license_plate+'</td></tr><tr><th>color</th><td>'+html.data[0].colour+'</td></tr><tr><th>Engine Number</th><td>'+html.data[0].Engine_No+'</td></tr><tr><th>Fuel Type</th><td>'+html.data[0].fuelType+'</td></tr><tr><th>Capacity</th><td>'+html.data[0].capacity+'</td></tr><tr><th>Status</th><td>'+statusVehicle+'</td></tr>');  
	}
  }).fail(function (error){
	alert('error');
	console.log(error);
		
 });	
		
}		
 
 
 });
 
 
 
 $(".addButton").click(function(){
		
		var addButtonId = $(this).attr('id');
		var counterArr = addButtonId.split("_");
		
		var counter = counterArr[1];
			counter++;
		$("#"+addButtonId).remove();
		
		var detailsdiv = "";
		detailsdiv += '<div class="row form-group"><div class="col-sm-3"><input type="text" class="form-control" ></div><div class="col-sm-3"><div class="input-group"><span class="input-group-addon">Rs</span><input type="text" class="form-control" ></div></div><div class="col-sm-3"><div class="col-sm-8 addButton" style="padding:0;" id="add_'+counter+'"><a href="#" class="btn btn-info form-control">Add</a></div></div><div class="col-sm-3">&nbsp;</div></div>';
		
		$("#appended_text_form").after(detailsdiv);
 
 
 });
 
 
 $("#genaralVehicleTabSave").click(function(){
	var vehicleNum = $("#cab-vehicleNumText").val();
	var vehicleName = $("#cab-vehicleNmText").val();
	var vehicleCabType = $("#cab-vehicleCabTypText").val();
	var manufacturer = $("#cab-vehicleManufctrText").val();
	var vehicleModel = $("#cab-vehicleModlText").val();
	var engineNo = $("#cab-vehicleEngnNoText").val();	
    var fuelType = $("#cab-vehicleFuelTypText").val();
	var vehicleCapacity = $("#cab-vehicleCapacityText").val();
	$(".form-control").removeClass('errorText');
	if(vehicleNum == ""){
		$("#cab-vehicleNumText").focus();
		$("#cab-vehicleNumText").addClass('errorText');
		return false;
	}else if(vehicleName == ""){
		$("#cab-vehicleNmText").focus();
		$("#cab-vehicleNmText").addClass('errorText');
		return false;
	}else if(vehicleCabType == ""){
		$("#cab-vehicleCabTypText").focus();
		$("#cab-vehicleCabTypText").addClass('errorText');
		return false;
	}else if(manufacturer == ""){
		$("#cab-vehicleManufctrText").focus();
		$("#cab-vehicleManufctrText").addClass('errorText');
		return false;
	}else if(vehicleModel == ""){
		$("#cab-vehicleModlText").focus();
		$("#cab-vehicleModlText").addClass('errorText');
		return false;
	}else if(engineNo == ""){
		$("#cab-vehicleEngnNoText").focus();
		$("#cab-vehicleEngnNoText").addClass('errorText');
		return false;
	
	}else if(fuelType == ""){
		$("#cab-vehicleFuelTypText").focus();
		$("#cab-vehicleFuelTypText").addClass('errorText');
		return false;
	
	}else if(vehicleCapacity == ""){
		$("#cab-vehicleCapacityText").focus();
		$("#cab-vehicleCapacityText").addClass('errorText');
		return false;
	
	}
	/*
	var URL = '<?php echo $this->basePath();?>'+'/tunnel/admin/addVehicleGeneralInfo';
	$.ajax({
		type: 'POST',
		url: URL,
		dataType: "json",
		data : {key:'',vehicleNum:vehicleNum,vehicleName:vehicleName,vehicleCabType:vehicleCabType,manufacturer:manufacturer,vehicleModel:vehicleModel,engineNo:engineNo,fuelType:fuelType,vehicleCapacity:vehicleCapacity},		 
		success: function(html){
							
			},
		error: function(error){
			console.log(error);
		}
	});
	
	*/
	
	
 
 });


/*

     var table;
     var data;
     var myVar;
     var data2;
	 var myVar2;
    $(document).ready(function () {
        $('#example').on('click','.clickme',function(){
             
           clearInterval(myVar2); 
        clearInterval(myVar);
      // alert("fdfdfdfdfdfd");
      if($(this).hasClass('open'))
      {
 myVar2=setInterval(function(){myTimer2()}, 5000);	  
          $(".remove div:first").slideUp(400,function(){
               $('.remove').remove();
              
          });
     
      $(this).removeClass('open');
	  
  }else{
      $('.remove').remove();
       
       $(this).addClass('open');

       
      $(this).parent().parent().after('<tr class="remove" ><td colspan="7"><div style="display:none"> <div class="col-lg-12"> <div class="portlet portlet-default"> <div class="portlet-heading"> <div class="portlet-title"></div> <div class="clearfix"></div> </div> <div class="portlet-body"> <ul id="myTab" class="nav nav-tabs tabsdesign"> <li class="active"><a href="#home1" data-toggle="tab"><i class="fa fa-list" style="color:#; margin:5px"></i>Status</a> </li> <li><a href="#bookinginfo" data-toggle="tab"><i class="fa fa-user" style="color:#; margin:5px"></i>Booking Details</a> </li><li><a href="#payment" data-toggle="tab"><i class="fa fa-user" style="color:#; margin:5px"></i> Payment Details</a> </li></li></ul> <div id="myTabContent" class="tab-content contantboxoftabs"> <div class="tab-pane fade in active" id="home1"><h4 class="h4text">Status</h4><table id="example2" class="table table-striped table-responsive"><thead> <tr> <th>Date</th> <th>State</th> <th>Text</th> </tr> </thead> <tbody> </tbody> </table></div><div class="tab-pane fade" id="payment"><h4 class="h4text">Payment Details</h4><table id="paymentdetail" class="table table-responsive table-striped"></table></div><div class="tab-pane fade" id="bookinginfo"><h4 class="h4text">Booking Information</h4><table id="bookinf" class="table table-responsive table-striped"></table></div></div></td></tr>');

   
    data=$(this).attr("data");
   
    $.ajax({
  url: '<?php echo $this->basePath();?>'+"/tunnel/admin/booking_information?booking_id="+data,
  cache: false,
  dataType:"json"
})
  .done(function( html ) {
    for(var i=0;i<html.data.length;i++)
{
                               $('#example2 tbody').append('<tr><td>'+html.data[i].time+'</td><td>'+html.data[i].status+'</td><td>'+html.data[i].message+'</td></tr>');  
  }
  });
  $.ajax({
  url: '<?php echo $this->basePath();?>'+"/tunnel/admin/payment_information?booking_id="+data,
  cache: false,
  dataType:"json"
})
  .done(function( html ) {
    

                               $('#paymentdetail').append('<tr><th>Waiting Charge</th><td>'+html.data[0].waiting+'</td></tr><tr><th>Trip Charge</th><td>'+html.data[0].tripCharge+'</td></tr><tr><th>Total Bill</th><td>'+html.data[0].totalbill+'</td></tr>');  
  
  });
      myVar = setInterval(function(){myTimer()}, 5000);
      function myTimer(){
        
     $.ajax({
  url: '<?php echo $this->basePath();?>'+"/tunnel/admin/booking_information?booking_id="+data,
  cache: false,
  dataType:"json"
})
  .done(function( html ) {
      $('#example2 tbody').html('');
    for(var i=0;i<html.data.length;i++)
{
                               $('#example2 tbody').append('<tr><td>'+html.data[i].time+'</td><td>'+html.data[i].status+'</td><td>'+html.data[i].message+'</td></tr>');  
  }
  });    
     
   
      }
   
   $(".remove div:first").slideDown(400,function(){
       //e.preventDefault();
    }

    );
  }
    });
        table=$('#example').dataTable( {
        "ajax": '<?php echo $this->basePath();?>'+"/tunnel/admin/booking_list",
        "deferRender": true
    } );
   myVar2=setInterval(function(){myTimer2()},30000);

function myTimer2(){
    //alert(table.fnGetData().length);
     $.ajax({
  url: '<?php echo $this->basePath();?>'+"/tunnel/admin/latest_booking?no_of_booking="+table.fnGetData().length,
  cache: false,
  dataType:"json"
})
  .done(function( html ) {
    for(var i=0;i<html.data.length;i++)
    {
     table.fnAddData(html.data[i]);   
        
    }
  });    
 
    
    
    
}

     
    });

*/

</script>